<% if @review.persisted? %>
  // Create a paragraph for the new review. But hide it.
  var new_review = $("<%= j render 'reviews/show', review: @review %>").hide();
  // Add it to the DOM, at the end of the existing reviews. It's still hidden.
  $('#reviews').prepend(new_review);
  $('#myModalReview').modal('hide')
  // Show the new review with an animation!
  new_review.slideDown();
  $('#review_content').val('');
  $('#review_rating').val('');
  $('#reviews_count').html('<%= j render "spots/reviews_count", spot: @spot %>')
<% else %>
  $('#review_form_container').html('<%= j render "reviews/form", spot: @spot, review: @review %>')
<% end %>

